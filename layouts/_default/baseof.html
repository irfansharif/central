<!DOCTYPE html>
<html lang="{{ .Lang }}">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="{{ .Permalink }}">

    {{ if .Page.Params.TabName }}
      <!-- For navigation bar 'posts' -->
      <title>{{ .Page.Params.TabName }} :: {{ .Site.Title }}</title>
    {{ else if .Page.Params.Title }}
      <!-- For single actual posts -->
      <title>{{ .Page.Params.Title }} :: {{ .Site.Title }}</title>
    {{ else }}
      <!-- For top level listings page -->
      <title>:: {{ .Site.Title }}</title>
    {{ end }}

    <!-- TODO: Use a short-hand to only load katex when needed -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

    <link href="{{ .Site.BaseURL }}css/tufte.css" rel="stylesheet">
    <link href="{{ .Site.BaseURL }}css/style.css" rel="stylesheet"> <!-- For custom overrides. -->
  </head>

  <div class="nav-bar">
    <ul>
      <li><a href="{{ "/" | relURL }}">Blog</a></li>
      <li><a href="{{ "newsletter" | relURL }}">Newsletter</a></li>
      <li><a href="{{ "about" | relURL }}">About</a></li>
    </ul>
  </div>

  <body>
    {{ block "main" . }}
      <!-- The part of the page that begins to differ between templates -->
    {{ end }}
  </body>

    <footer>
      {{ if ($.Scratch.Get "loaded-photoswipe") }}
          <!-- Load PhotoSwipe js files if the load-photoswipe shortcode was used.-->
          <script defer src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
          <script defer src="/js/load-photoswipe.js"></script>
          <script defer src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
          <script defer src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>

          <!-- Photoswipe css style sheets -->
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous"/>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous"/>
          <link rel="stylesheet" href="/css/gallery.css"/> <!-- For custom overrides. -->
      {{ end }}

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
      <link href="{{ .Site.BaseURL }}css/latex.css" rel="stylesheet">
  </footer>
</html>

{{- /* vim: set ts=2 sw=2 et: */}}
